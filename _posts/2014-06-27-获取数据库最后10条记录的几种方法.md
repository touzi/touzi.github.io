---
date: 2014/6/27 18:21:24 
layout: post
title: 获取数据库最后10条记录的几种方法
thread: 1
categories: SQL
tags: SQL TOP10

---

获取数据库最后若干条记录是很常见的用法，下面分别用几种方法去实现，当作SQL的练习吧。

####数据库记录倒序排序，然后用limit 10子句获取10条：

	SELECT title AS TITLE FROM news ORDER BY id DESC LIMIT 10

查询结果：

	01+-----------------------------------------+
	02| TITLE                                   |
	03+-----------------------------------------+
	04| 阿里巴巴反对雅虎CEO进阿里董事会         |
	05| 康盛创想戴志康加入腾讯                  |
	06| Android不断蚕食智能手机市场             |
	07| Blizzard：研发团队要对项目充满热情      |
	08| 后起之秀Facebook对Google的冲击          |
	09| 360在互联网四处树敌                     |
	10| 雅虎CEO声明：不会干涉阿里巴巴的经营业务 |
	11| 台服魔兽世界大灾变资料片开放下载        |
	12| 选择成熟的技术还是最新的技术            |
	13| 雅虎错误连连不段                        |
	14+-----------------------------------------+
	15 10 rowsinset

####取得最大记录的id，然后在WHERE子句减去10。

	SELECT temp.title as 标题 FROM news AS temp WHERE news_id < (SELECT MAX(id) FROM news) - 10

查询结果：

	01+-----------------------------------------+
	02| 标题                                    |
	03+-----------------------------------------+
	04| 雅虎错误连连不段                        |
	05| 选择成熟的技术还是最新的技术            |
	06| 台服魔兽世界大灾变资料片开放下载        |
	07| 雅虎CEO声明：不会干涉阿里巴巴的经营业务 |
	08| 360在互联网四处树敌                     |
	09| 后起之秀Facebook对Google的冲击          |
	10| Blizzard：研发团队要对项目充满热情      |
	11| Android不断蚕食智能手机市场             |
	12| 康盛创想戴志康加入腾讯                  |
	13| 阿里巴巴反对雅虎CEO进阿里董事会         |
	14+-----------------------------------------+
	15 10 rowsinset

####count() 函数：

	SELECT temp.title as 标题, temp.id as ID FROM news AS temp WHERE id < (SELECT count(temp.id) FROM news) - 10

查询结果：

	01+-----------------------------------------+-----+
	02| 标题                                    | ID  |
	03+-----------------------------------------+-----+
	04| 雅虎错误连连不段                        | 197 |
	05| 选择成熟的技术还是最新的技术            | 198 |
	06| 台服魔兽世界大灾变资料片开放下载        | 199 |
	07| 雅虎CEO声明：不会干涉阿里巴巴的经营业务 | 200 |
	08| 360在互联网四处树敌                     | 201 |
	09| 后起之秀Facebook对Google的冲击          | 202 |
	10| Blizzard：研发团队要对项目充满热情      | 203 |
	11| Android不断蚕食智能手机市场             | 204 |
	12| 康盛创想戴志康加入腾讯                  | 205 |
	13| 阿里巴巴反对雅虎CEO进阿里董事会         | 206 |
	14+-----------------------------------------+-----+
	15 10 rowsinset

---------

END

2014/6/28 18:30:49 